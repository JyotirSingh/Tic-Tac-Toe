<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"/>
<title>Tic-Tac-Toe game</title>
<link rel = "stylesheet" type = "text/css" href = "../css/css1.css" />
<script>
        var global_key = '';
		var count = 0;
        var img = {};
		var t = [];
	    img["x"] ="../image/IMG_20170707_154212.jpg";
	    img["o"] = "../image/IMG_20170707_153859.jpg";
		//random image display
        function displayRandomImage(ele){                      
        if(global_key == ''){
	               var keys = Object.keys(img);
	               var keys1 = keys[Math.floor(Math.random()*keys.length)];
	               global_key = keys1;
                   var img1 = img[keys1];
		           if(ele.children[0].getAttribute('src') == ''){
				             ele.children[0].src = img1;
							 count++;
		           }else
				     {
				       alert("Already Selected");
	                 }
                 }
	   else{
            //turn logic
         switch(global_key){
          
		                     case "x":
	                                   if(ele.children[0].getAttribute('src') == ''){
		                                     ele.children[0].src = img["o"];
											   global_key = "o";
											   count++;
                                       }else
				                       {
                                         alert("Already Selected");
                                       }
	                                   break;
                              case "o":
		                                if(ele.children[0].getAttribute('src') == ''){
		                                   ele.children[0].src = img["x"]; 
										   global_key = "x";
										   count++;
                                        }else
				                        {
                                          alert("Already Selected");
                                         }
  	                                    break;
                              }  
            }
	        //winner logic
	  t[0] = document.getElementById("demo").children[0].src; 
	  t[1] = document.getElementById("demo1").children[0].src;
	  t[2] = document.getElementById("demo2").children[0].src; 
	  t[3] = document.getElementById("demo3").children[0].src;
	  t[4] = document.getElementById("demo4").children[0].src; 
	  t[5] = document.getElementById("demo5").children[0].src;
	  t[6] = document.getElementById("demo6").children[0].src;
	  t[7] = document.getElementById("demo7").children[0].src,
	  t[8] = document.getElementById("demo8").children[0].src;
	  
       	
	  if(count >= 4 && ((t[0] == t[1] && t[1] == t[2] && t[0] != 'file:///C:/Projects/game/html/html1.html')  ||
				        (t[0] == t[3] && t[3] == t[6] && t[0] != 'file:///C:/Projects/game/html/html1.html')  ||  
					    (t[0] == t[4] && t[4] == t[8] && t[0] != 'file:///C:/Projects/game/html/html1.html')  ||
					    (t[1] == t[4] && t[4] == t[7] && t[1] != 'file:///C:/Projects/game/html/html1.html')  ||  
					    (t[2] == t[5] && t[5] == t[8] && t[2] != 'file:///C:/Projects/game/html/html1.html')  ||  
					    (t[2] == t[4] && t[4] == t[6] && t[2] != 'file:///C:/Projects/game/html/html1.html')  ||   
					    (t[3] == t[4] && t[4] == t[5] && t[3] != 'file:///C:/Projects/game/html/html1.html')  || 
					    (t[6] == t[7] && t[7] == t[8] && t[6] != 'file:///C:/Projects/game/html/html1.html')))       
					
		           	{	
					   if(global_key == "x") 
					   {  
					     alert(" Congrates!!\n\n X Wins!! \n\n\n         press OK to restart game");
					      myFunction();
					    }
					   else if(global_key == "o") 
					   {
					      alert(" Congrates!!\n\n 0 Wins!! \n\n\n         press OK to restart game");
					      myFunction();
						}
                    }
	  
				//draw logic
	  else if(count == 9 )
	    {
		    alert("draw!! \n play again \n\n                            click Reset button to play again");
		} 
	}
	    //reset logic
	  function myFunction(){
	        
			     document.getElementById("demo").children[0].src = '';
				 document.getElementById("demo1").children[0].src = '';
				 document.getElementById("demo2").children[0].src = '';
				 document.getElementById("demo3").children[0].src = '';
				 document.getElementById("demo4").children[0].src = '';
				 document.getElementById("demo5").children[0].src = '';
				 document.getElementById("demo6").children[0].src = '';
				 document.getElementById("demo7").children[0].src = '';
				 document.getElementById("demo8").children[0].src = '';
				 count = 0;
	          
          }	
</script>
</head>
<body>
<h1><center>Tic-Tac-Toe Game</center></h1><br />
<center>
<div id="container">
<div class = "flex-container">
<div id="demo" class = "one" onClick="displayRandomImage(this)">
<img src = ""/>
</div>
<div id="demo1" class = "one" onClick="displayRandomImage(this)">
<img src = ""/>
</div>

<div id="demo2" class = "one" onClick="displayRandomImage(this)">
<img src = ""/>
</div>
</div>
<div class="flex-container1">
<div id="demo3" class = "one" onClick="displayRandomImage(this)">
<img src = ""/>
</div>

<div id="demo4" class = "one" onClick="displayRandomImage(this)">
<img src = ""/>
</div>

<div id="demo5" class = "one" onClick="displayRandomImage(this)">
<img src = ""/>
</div>
</div>
<div class="flex-container2">
<div id="demo6" class = "one" onClick="displayRandomImage(this)">
<img src = ""/>
</div>

<div id="demo7" class = "one" onClick="displayRandomImage(this)">
<img src = ""/>
</div>

<div id="demo8" class = "one" onClick="displayRandomImage(this)">
<img src = ""/>
</div>
</div>
</div>
</center><br /><br />
<center><button id = "reset" onclick="myFunction()"> Restart </button> </center>
</body>
</html>
